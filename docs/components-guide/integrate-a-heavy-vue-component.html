<!DOCTYPE html>

<html>
<head>
<title>UI Components - Integrate a heavy Vue Component - QOR5 Document</title>

<meta name='description'>
<meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1">
<base href='/docs/'>

<link href='index.css' rel='stylesheet' type='text/css'>

<script type='text/javascript' defer src='index.js'></script>
</head>

<body>
<div id='app' v-cloak>
<div v-init-context:vars='{hideAside: false}' class='flex h-screen'>
<div class='flex-1 flex flex-col overflow-hidden'>
<div class='flex h-full'>
<aside v-show='!vars.hideAside' id='menuScroller' class='flex flex-col w-80 h-full bg-gray-50 border-r border-gray-200 overflow-y-auto'>
<div class='h-12'><search></search></div>

<ul class='px-0 py-3 mx-0 text-base font-normal list-none text-gray-700'>
<li class='m-0'>
<a href='index.html' id='index.html' onclick='window.storeMenuState("index.html")' class='inline-block px-4 py-1 truncate break-words w-64 hover:text-blue-400 text-gray-700'>Introduction</a>
</li>

<li class='cursor-default px-4 py-1 truncate break-words w-64 m-0'>Getting Started</li>

<li class='m-0'>
<a href='getting-started/one-minute-quick-start.html' id='getting-started/one-minute-quick-start.html' onclick='window.storeMenuState("getting-started/one-minute-quick-start.html")' class='inline-block pl-10 pr-4 py-1 truncate break-words w-64 hover:text-blue-400 text-gray-700'>1 Minute Quick Start</a>
</li>

<li class='cursor-default px-4 py-1 truncate break-words w-64 m-0'>Building Admin</li>

<li class='m-0'>
<a href='basics/listing.html' id='basics/listing.html' onclick='window.storeMenuState("basics/listing.html")' class='inline-block pl-10 pr-4 py-1 truncate break-words w-64 hover:text-blue-400 text-gray-700'>Listing</a>
</li>

<li class='m-0'>
<a href='basics/filter.html' id='basics/filter.html' onclick='window.storeMenuState("basics/filter.html")' class='inline-block pl-10 pr-4 py-1 truncate break-words w-64 hover:text-blue-400 text-gray-700'>Filters</a>
</li>

<li class='m-0'>
<a href='presets-guide/editing-customizations.html' id='presets-guide/editing-customizations.html' onclick='window.storeMenuState("presets-guide/editing-customizations.html")' class='inline-block pl-10 pr-4 py-1 truncate break-words w-64 hover:text-blue-400 text-gray-700'>Editing</a>
</li>

<li class='m-0'>
<a href='basics/brand.html' id='basics/brand.html' onclick='window.storeMenuState("basics/brand.html")' class='inline-block pl-10 pr-4 py-1 truncate break-words w-64 hover:text-blue-400 text-gray-700'>Brand</a>
</li>

<li class='m-0'>
<a href='basics/menu.html' id='basics/menu.html' onclick='window.storeMenuState("basics/menu.html")' class='inline-block pl-10 pr-4 py-1 truncate break-words w-64 hover:text-blue-400 text-gray-700'>Menu</a>
</li>

<li class='m-0'>
<a href='presets-guide/detail-page-for-complex-object.html' id='presets-guide/detail-page-for-complex-object.html' onclick='window.storeMenuState("presets-guide/detail-page-for-complex-object.html")' class='inline-block pl-10 pr-4 py-1 truncate break-words w-64 hover:text-blue-400 text-gray-700'>Detailing</a>
</li>

<li class='m-0'>
<a href='basics/layout.html' id='basics/layout.html' onclick='window.storeMenuState("basics/layout.html")' class='inline-block pl-10 pr-4 py-1 truncate break-words w-64 hover:text-blue-400 text-gray-700'>Layout</a>
</li>

<li class='m-0'>
<a href='basics/login.html' id='basics/login.html' onclick='window.storeMenuState("basics/login.html")' class='inline-block pl-10 pr-4 py-1 truncate break-words w-64 hover:text-blue-400 text-gray-700'>Login</a>
</li>

<li class='m-0'>
<a href='presets-guide/permissions.html' id='presets-guide/permissions.html' onclick='window.storeMenuState("presets-guide/permissions.html")' class='inline-block pl-10 pr-4 py-1 truncate break-words w-64 hover:text-blue-400 text-gray-700'>Permissions</a>
</li>

<li class='m-0'>
<a href='presets-guide/role.html' id='presets-guide/role.html' onclick='window.storeMenuState("presets-guide/role.html")' class='inline-block pl-10 pr-4 py-1 truncate break-words w-64 hover:text-blue-400 text-gray-700'>Role</a>
</li>

<li class='m-0'>
<a href='basics/notification-center.html' id='basics/notification-center.html' onclick='window.storeMenuState("basics/notification-center.html")' class='inline-block pl-10 pr-4 py-1 truncate break-words w-64 hover:text-blue-400 text-gray-700'>Notification Center</a>
</li>

<li class='m-0'>
<a href='basics/shortcut.html' id='basics/shortcut.html' onclick='window.storeMenuState("basics/shortcut.html")' class='inline-block pl-10 pr-4 py-1 truncate break-words w-64 hover:text-blue-400 text-gray-700'>Keyboard Shortcut</a>
</li>

<li class='m-0'>
<a href='basics/confirm-dialog.html' id='basics/confirm-dialog.html' onclick='window.storeMenuState("basics/confirm-dialog.html")' class='inline-block pl-10 pr-4 py-1 truncate break-words w-64 hover:text-blue-400 text-gray-700'>Confirm Dialog</a>
</li>

<li class='m-0'>
<a href='slug.html' id='slug.html' onclick='window.storeMenuState("slug.html")' class='inline-block pl-10 pr-4 py-1 truncate break-words w-64 hover:text-blue-400 text-gray-700'>Slug</a>
</li>

<li class='m-0'>
<a href='seo.html' id='seo.html' onclick='window.storeMenuState("seo.html")' class='inline-block pl-10 pr-4 py-1 truncate break-words w-64 hover:text-blue-400 text-gray-700'>SEO</a>
</li>

<li class='m-0'>
<a href='activity-log.html' id='activity-log.html' onclick='window.storeMenuState("activity-log.html")' class='inline-block pl-10 pr-4 py-1 truncate break-words w-64 hover:text-blue-400 text-gray-700'>Activity Log</a>
</li>

<li class='m-0'>
<a href='basics/worker.html' id='basics/worker.html' onclick='window.storeMenuState("basics/worker.html")' class='inline-block pl-10 pr-4 py-1 truncate break-words w-64 hover:text-blue-400 text-gray-700'>Worker</a>
</li>

<li class='m-0'>
<a href='basics/l10n.html' id='basics/l10n.html' onclick='window.storeMenuState("basics/l10n.html")' class='inline-block pl-10 pr-4 py-1 truncate break-words w-64 hover:text-blue-400 text-gray-700'>Localization</a>
</li>

<li class='cursor-default px-4 py-1 truncate break-words w-64 m-0'>Web Application</li>

<li class='m-0'>
<a href='basics/page-func-and-event-func.html' id='basics/page-func-and-event-func.html' onclick='window.storeMenuState("basics/page-func-and-event-func.html")' class='inline-block pl-10 pr-4 py-1 truncate break-words w-64 hover:text-blue-400 text-gray-700'>Page Func and Event Func</a>
</li>

<li class='m-0'>
<a href='advanced-functions/the-go-html-builder.html' id='advanced-functions/the-go-html-builder.html' onclick='window.storeMenuState("advanced-functions/the-go-html-builder.html")' class='inline-block pl-10 pr-4 py-1 truncate break-words w-64 hover:text-blue-400 text-gray-700'>The Go HTML builder</a>
</li>

<li class='m-0'>
<a href='presets-guide/its-the-whole-house.html' id='presets-guide/its-the-whole-house.html' onclick='window.storeMenuState("presets-guide/its-the-whole-house.html")' class='inline-block pl-10 pr-4 py-1 truncate break-words w-64 hover:text-blue-400 text-gray-700'>Not just scaffolding, it&#39;s the whole house</a>
</li>

<li class='m-0'>
<a href='vuetify-components/lazy-portals.html' id='vuetify-components/lazy-portals.html' onclick='window.storeMenuState("vuetify-components/lazy-portals.html")' class='inline-block pl-10 pr-4 py-1 truncate break-words w-64 hover:text-blue-400 text-gray-700'>Lazy Portals</a>
</li>

<li class='m-0'>
<a href='basics/layout-function-and-page-injector.html' id='basics/layout-function-and-page-injector.html' onclick='window.storeMenuState("basics/layout-function-and-page-injector.html")' class='inline-block pl-10 pr-4 py-1 truncate break-words w-64 hover:text-blue-400 text-gray-700'>Layout Function and Page Injector</a>
</li>

<li class='m-0'>
<a href='basics/switch-pages-with-push-state.html' id='basics/switch-pages-with-push-state.html' onclick='window.storeMenuState("basics/switch-pages-with-push-state.html")' class='inline-block pl-10 pr-4 py-1 truncate break-words w-64 hover:text-blue-400 text-gray-700'>Switch Pages with Push State</a>
</li>

<li class='m-0'>
<a href='basics/reload-page-with-a-flash.html' id='basics/reload-page-with-a-flash.html' onclick='window.storeMenuState("basics/reload-page-with-a-flash.html")' class='inline-block pl-10 pr-4 py-1 truncate break-words w-64 hover:text-blue-400 text-gray-700'>Reload Page with a Flash</a>
</li>

<li class='m-0'>
<a href='basics/partial-refresh-with-portal.html' id='basics/partial-refresh-with-portal.html' onclick='window.storeMenuState("basics/partial-refresh-with-portal.html")' class='inline-block pl-10 pr-4 py-1 truncate break-words w-64 hover:text-blue-400 text-gray-700'>Partial Refresh with Portal</a>
</li>

<li class='m-0'>
<a href='basics/manipulate-page-url-in-event-func.html' id='basics/manipulate-page-url-in-event-func.html' onclick='window.storeMenuState("basics/manipulate-page-url-in-event-func.html")' class='inline-block pl-10 pr-4 py-1 truncate break-words w-64 hover:text-blue-400 text-gray-700'>Manipulate Page URL in Event Func</a>
</li>

<li class='m-0'>
<a href='basics/scope-component.html' id='basics/scope-component.html' onclick='window.storeMenuState("basics/scope-component.html")' class='inline-block pl-10 pr-4 py-1 truncate break-words w-64 hover:text-blue-400 text-gray-700'>Scope Component</a>
</li>

<li class='m-0'>
<a href='basics/event-handling.html' id='basics/event-handling.html' onclick='window.storeMenuState("basics/event-handling.html")' class='inline-block pl-10 pr-4 py-1 truncate break-words w-64 hover:text-blue-400 text-gray-700'>Event Handling Request</a>
</li>

<li class='m-0'>
<a href='basics/event-handing-response.html' id='basics/event-handing-response.html' onclick='window.storeMenuState("basics/event-handing-response.html")' class='inline-block pl-10 pr-4 py-1 truncate break-words w-64 hover:text-blue-400 text-gray-700'>Event Handing Response</a>
</li>

<li class='m-0'>
<a href='basics/form-handling.html' id='basics/form-handling.html' onclick='window.storeMenuState("basics/form-handling.html")' class='inline-block pl-10 pr-4 py-1 truncate break-words w-64 hover:text-blue-400 text-gray-700'>Form Handling</a>
</li>

<li class='cursor-default px-4 py-1 truncate break-words w-64 m-0'>UI Components</li>

<li class='m-0'>
<a href='vuetify-components/basic-inputs.html' id='vuetify-components/basic-inputs.html' onclick='window.storeMenuState("vuetify-components/basic-inputs.html")' class='inline-block pl-10 pr-4 py-1 truncate break-words w-64 hover:text-blue-400 text-gray-700'>Basic Inputs</a>
</li>

<li class='m-0'>
<a href='vuetify-components/a-taste-of-using-vuetify-in-go.html' id='vuetify-components/a-taste-of-using-vuetify-in-go.html' onclick='window.storeMenuState("vuetify-components/a-taste-of-using-vuetify-in-go.html")' class='inline-block pl-10 pr-4 py-1 truncate break-words w-64 hover:text-blue-400 text-gray-700'>A Taste of using Vuetify in Go</a>
</li>

<li class='m-0'>
<a href='vuetify-components/linkage-select.html' id='vuetify-components/linkage-select.html' onclick='window.storeMenuState("vuetify-components/linkage-select.html")' class='inline-block pl-10 pr-4 py-1 truncate break-words w-64 hover:text-blue-400 text-gray-700'>Linkage Select</a>
</li>

<li class='m-0'>
<a href='vuetify-components/auto-complete.html' id='vuetify-components/auto-complete.html' onclick='window.storeMenuState("vuetify-components/auto-complete.html")' class='inline-block pl-10 pr-4 py-1 truncate break-words w-64 hover:text-blue-400 text-gray-700'>Auto Complete</a>
</li>

<li class='m-0'>
<a href='components-guide/composite-new-component-with-go.html' id='components-guide/composite-new-component-with-go.html' onclick='window.storeMenuState("components-guide/composite-new-component-with-go.html")' class='inline-block pl-10 pr-4 py-1 truncate break-words w-64 hover:text-blue-400 text-gray-700'>Composite new Component With Go</a>
</li>

<li class='m-0'>
<a href='components-guide/integrate-a-heavy-vue-component.html' id='components-guide/integrate-a-heavy-vue-component.html' onclick='window.storeMenuState("components-guide/integrate-a-heavy-vue-component.html")' class='inline-block pl-10 pr-4 py-1 truncate break-words w-64 hover:text-blue-400 text-blue-500'>Integrate a heavy Vue Component</a>
</li>

<li class='cursor-default px-4 py-1 truncate break-words w-64 m-0'>Appendix</li>

<li class='m-0'>
<a href='appendix/all-demo-examples.html' id='appendix/all-demo-examples.html' onclick='window.storeMenuState("appendix/all-demo-examples.html")' class='inline-block pl-10 pr-4 py-1 truncate break-words w-64 hover:text-blue-400 text-gray-700'>All Demo Examples</a>
</li>
</ul>
</aside>

<main class='flex flex-col w-full bg-white overflow-x-hidden overflow-y-auto'>
<div id='docContentBox' class='flex flex-row w-full'>
<div class='flex flex-grow flex-col w-2/3'>
<div class='flex flex-row'>
<button @click='vars.hideAside = !vars.hideAside' class='w-12 h-12 p-4'>
<div class='w-4 h-4 fill-current text-gray-300'>
<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="16px" height="16px" viewBox="0 0 16 16" version="1.1">
<g id="surface1">
<path style=" stroke:none;fill-rule:nonzero;fill:rgb(0%,0%,0%);fill-opacity:1;" d="M 2 12 L 2 11 L 14 11 L 14 12 Z M 2 8.5 L 2 7.5 L 14 7.5 L 14 8.5 Z M 2 5 L 2 4 L 14 4 L 14 5 Z M 2 5 "/>
</g>
</svg>
</div>
</button>
</div>

<div id='docMainBox' class='px-16 pb-12 pt-4 overflow-auto'>
<h1 class='mb-8'>Integrate a heavy Vue Component</h1>

<div class='border-t'><p>We can abstract any complicated of server side render component with <a href="https://github.com/theplant/htmlgo" rel="nofollow">htmlgo</a>.
But a lots of components in the modern web have done many things on the client side. means there are many logic
happens before the it interact with server side.</p>

<p>Here is an example, a rich text editor. you have a toolbar of buttons that you can interact, most of them won&#39;t
need to communicate with server. We are going to integrate the fantastic rich text editor <a href="https://tiptap.scrumpy.io/" rel="nofollow">tiptap</a>
to be used as any <code>htmlgo.HTMLComponent</code>.</p>

<p><strong>Step 1</strong>: <a href="https://cli.vuejs.org/guide/creating-a-project.html" rel="nofollow">Create a @vue/cli project</a>:</p>

<pre><code>$ vue create tiptapjs
</code></pre>

<p>Modify or add a separate <code>vue.config.js</code> config file,</p>

<highlightjs :language='"javascript"' :code='"const {defineConfig} = require(&#39;@vue/cli-service&#39;);\nmodule.exports = defineConfig({\n\ttranspileDependencies: true,\n\truntimeCompiler: true,\n\tproductionSourceMap: false,\n\tdevServer: {\n\t\tport: 3500,\n\t},\n\tconfigureWebpack: {\n\t\toutput: {\n\t\t\tlibraryExport: &#39;default&#39;,\n\t\t},\n\t\texternals: {vue: &#39;Vue&#39;},\n\t},\n\tchainWebpack: config =\u003e {\n\t\tconst svgRule = config.module.rule(&#39;svg&#39;).clear();\n\t\tsvgRule.\n\t\t\t\ttest(/\\.(svg)(\\?.*)?$/).\n\t\t\t\tuse(&#39;babel-loader&#39;).\n\t\t\t\tloader(&#39;babel-loader&#39;).\n\t\t\t\tend().\n\t\t\t\tuse(&#39;vue-svg-loader&#39;).\n\t\t\t\tloader(&#39;vue-svg-loader&#39;);\n\t},\n});"'></highlightjs>
<ul>
<li>Enable <code>runtimeCompiler</code> so that vue can parse template html generate from server.</li>
<li>Made <code>Vue</code> as externals so that it won&#39;t be packed to the dist production js file,
Since we will be sharing one Vue.js for in one page with other libraries.</li>
<li>Config svg module to inline the svg icons used by tiptap</li>
</ul>

<p><strong>Step 2</strong>: Create a vue component that use tiptap</p>

<p>Install <code>tiptap</code> and <code>tiptap-extensions</code> first</p>

<pre><code>$ yarn add tiptap tiptap-extensions
</code></pre>

<p>And write the <code>editor.vue</code> something like this, We omitted the template at here.</p>

<highlightjs :language='"javascript"' :code='"export default {\n\n  components: {\n    EditorContent,\n    EditorMenuBar,\n    Icon,\n  },\n\n  props: {\n    value: String,\n  },\n\n  data() {\n    return {\n      editor: new Editor({\n        content: this.$props.value,\n        extensions: extensions(),\n        onUpdate: ({getHTML}) =\u003e {\n          const html = getHTML();\n          this.$emit(\"input\", html)\n        },\n      })\n    }\n  },\n\n  beforeDestroy() {\n    this.editor.destroy()\n  }\n}"'></highlightjs>
<p>We injected the <code>this.$plaid()</code>. that is from <code>web/corejs</code>, Which you will need to use
For every Go Plaid web applications. Here we uses one function <code>fieldValue</code> from it.
It set the form value when the rich text editor changes. So that later when you call
<code>EventFunc</code> it the value will be posted to the server side. Here we will post the html value.
Also allow component user to set <code>fieldName</code>, which is important when posting the value to the
server.</p>

<p><strong>Step 3</strong>: At <code>main.js</code>, Use a special hook to register the component to <code>web/corejs</code></p>

<highlightjs :language='"go"' :code='"import TipTapEditor from &#39;./editor.vue&#39;\n\n(window.__goplaidVueComponentRegisters =\n\twindow.__goplaidVueComponentRegisters || []).push((Vue) =\u003e {\n\t\tVue.component(&#39;tiptap-editor&#39;, TipTapEditor)\n\t});"'></highlightjs>
<p><strong>Step 4</strong>: Test the component in a simple html</p>

<p>We edited the <code>index.html</code> inside public to be the following:</p>

<highlightjs :language='"html"' :code='"\u003chead\u003e\n\t\u003cmeta charset=\"utf-8\"\u003e\n\t\u003cmeta name=\"viewport\" content=\"width=device-width,initial-scale=1.0\"\u003e\n\t\u003cscript src=\"https://cdn.jsdelivr.net/npm/vue/dist/vue.js\"\u003e\u003c/script\u003e\n\t\u003ctitle\u003etiptapjs\u003c/title\u003e\n\u003c/head\u003e\n\n\u003cbody\u003e\n\n\t\u003cdiv id=\"app\"\u003e\n\t\t\u003ctiptap-editor field-name=\"content1\" value=&#39;\u0026lt;h1\u0026gt;header\u0026lt;/h1\u0026gt;\u0026lt;p\u0026gt;abc\u0026lt;/p\u0026gt;&#39;\u003e\u003c/tiptap-editor\u003e\n\n\t\u003c/div\u003e\n\t\u003cscript src=\"http://localhost:3500/app.js\"\u003e\u003c/script\u003e\n\t\u003cscript src=\"http://localhost:3100/app.js\"\u003e\u003c/script\u003e\n\n\u003c/body\u003e\n"'></highlightjs>
<ul>
<li>For <code>http://localhost:3500/app.js</code> to be able to serve. you have to run <code>yarn serve</code> in
tiptapjs directory.</li>
<li><code>http://localhost:3100/app.js</code> is QOR5 web corejs vue project.
So go to that directory and run <code>yarn serve</code> to start it. and then in</li>
<li>Run a web server inside tiptapjs directory like <code>python -m SimpleHTTPServer</code> and point your
Browser to the index.html file, and see if your vue component can render and behave correctly.</li>
</ul>

<p><strong>Step 5</strong>: Use <a href="https://github.com/gobuffalo/packr" rel="nofollow">packr</a> to pack the dist folder</p>

<p>We write a packr box inside <code>tiptapjs.go</code> along side the tiptapjs folder.</p>

<highlightjs :language='"go"' :code='"import (\n\t\"embed\"\n\t\"github.com/qor5/web\"\n)\n\n//go:embed tiptapjs/dist\nvar box embed.FS\n\nfunc JSComponentsPack() web.ComponentsPack {\n\tv, err := box.ReadFile(\"tiptapjs/dist/tiptap.umd.min.js\")\n\tif err != nil {\n\t\tpanic(err)\n\t}\n\n\treturn web.ComponentsPack(v)\n}\n\nfunc CSSComponentsPack() web.ComponentsPack {\n\tv, err := box.ReadFile(\"tiptapjs/dist/tiptap.css\")\n\tif err != nil {\n\t\tpanic(err)\n\t}\n\n\treturn web.ComponentsPack(v)\n}\n"'></highlightjs>
<p>And write a <code>build.sh</code> to build the javascript to production version, and run packr to pack
them into <code>a_tiptap-packr.go</code> file.</p>

<highlightjs :language='"bash"' :code='"CUR=$(pwd)/$(dirname $0)\n\nif test \"$1\" = &#39;clean&#39;; then\n    echo \"Removing node_modules\"\n    rm -rf $CUR/tiptapjs/node_modules/\nfi\n\nrm -r $CUR/tiptapjs/dist\necho \"Building tiptapjs\"\ncd $CUR/tiptapjs \u0026\u0026 npm install \u0026\u0026 npm run build\n"'></highlightjs>
<p><strong>Step 6</strong>: Write a Go wrapper to wrap it to be a <code>HTMLComponent</code></p>

<highlightjs :language='"go"' :code='"import (\n\t\"context\"\n\n\t\"github.com/qor5/web\"\n\th \"github.com/theplant/htmlgo\"\n)\n\ntype TipTapEditorBuilder struct {\n\ttag *h.HTMLTagBuilder\n}\n\nfunc TipTapEditor() (r *TipTapEditorBuilder) {\n\tr = \u0026TipTapEditorBuilder{\n\t\ttag: h.Tag(\"tiptap-editor\"),\n\t}\n\n\treturn\n}\n\nfunc (b *TipTapEditorBuilder) FieldName(v string) (r *TipTapEditorBuilder) {\n\tb.tag.Attr(web.VFieldName(v)...)\n\treturn b\n}\n\nfunc (b *TipTapEditorBuilder) Value(v string) (r *TipTapEditorBuilder) {\n\tb.tag.Attr(\":value\", h.JSONString(v))\n\treturn b\n}\n\nfunc (b *TipTapEditorBuilder) MarshalHTML(ctx context.Context) (r []byte, err error) {\n\treturn b.tag.MarshalHTML(ctx)\n}\n"'></highlightjs>
<p><strong>Step 7</strong>: Use it in your web app</p>

<p>To use it, first we have to mount the assets into our app</p>

<highlightjs :language='"go"' :code='"mux.Handle(\"/assets/tiptap.js\",\n\tweb.PacksHandler(\"text/javascript\",\n\t\ttiptap.JSComponentsPack(),\n\t),\n)\n\nmux.Handle(\"/assets/tiptap.css\",\n\tweb.PacksHandler(\"text/css\",\n\t\ttiptap.CSSComponentsPack(),\n\t),\n)"'></highlightjs>
<p>And reference them in our layout function.</p>

<highlightjs :language='"go"' :code='"func tiptapLayout(in web.PageFunc) (out web.PageFunc) {\n\treturn func(ctx *web.EventContext) (pr web.PageResponse, err error) {\n\t\taddGA(ctx)\n\n\t\tctx.Injector.HeadHTML(`\n\t\t\t\u003clink rel=\"stylesheet\" href=\"/assets/tiptap.css\"\u003e\n\t\t\t\u003cscript src=&#39;/assets/vue.js&#39;\u003e\u003c/script\u003e\n\t\t`)\n\n\t\tctx.Injector.TailHTML(`\n\u003cscript src=&#39;/assets/tiptap.js&#39;\u003e\u003c/script\u003e\n\u003cscript src=&#39;/assets/main.js&#39;\u003e\u003c/script\u003e\n`)\n\t\tctx.Injector.HeadHTML(`\n\t\t\u003cstyle\u003e\n\t\t\t[v-cloak] {\n\t\t\t\tdisplay: none;\n\t\t\t}\n\t\t\u003c/style\u003e\n\t\t`)\n\n\t\tvar innerPr web.PageResponse\n\t\tinnerPr, err = in(ctx)\n\t\tif err != nil {\n\t\t\tpanic(err)\n\t\t}\n\n\t\tpr.Body = innerPr.Body\n\n\t\treturn\n\t}\n}\n"'></highlightjs>
<p>And we write a page func to use it like any other component:</p>

<highlightjs :language='"go"' :code='"import (\n\t\"github.com/qor5/ui/tiptap\"\n\t\"github.com/qor5/web\"\n\t. \"github.com/theplant/htmlgo\"\n\t\"github.com/yosssi/gohtml\"\n)\n\nfunc HelloWorldTipTap(ctx *web.EventContext) (pr web.PageResponse, err error) {\n\n\tdefaultValue := ctx.R.FormValue(\"Content1\")\n\tif len(defaultValue) == 0 {\n\t\tdefaultValue = `\n\t\t\t\u003ch1\u003eHello\u003c/h1\u003e\n\t\t\t\u003cp\u003e\n\t\t\t\tThis is a nice editor\n\t\t\t\u003c/p\u003e\n\t\t\t\u003cul\u003e\n\t\t\t  \u003cli\u003e\n\t\t\t\t\u003cp\u003e\n\t\t\t\t  123\n\t\t\t\t\u003c/p\u003e\n\t\t\t  \u003c/li\u003e\n\t\t\t  \u003cli\u003e\n\t\t\t\t\u003cp\u003e\n\t\t\t\t  456\n\t\t\t\t\u003c/p\u003e\n\t\t\t  \u003c/li\u003e\n\t\t\t  \u003cli\u003e\n\t\t\t\t\u003cp\u003e\n\t\t\t\t  789\n\t\t\t\t\u003c/p\u003e\n\t\t\t  \u003c/li\u003e\n\t\t\t\u003c/ul\u003e\n`\n\t}\n\n\tpr.Body = Div(\n\t\ttiptap.TipTapEditor().\n\t\t\tFieldName(\"Content1\").\n\t\t\tValue(defaultValue),\n\t\tHr(),\n\t\tPre(\n\t\t\tgohtml.Format(ctx.R.FormValue(\"Content1\")),\n\t\t).Style(\"background-color: #f8f8f8; padding: 20px;\"),\n\t\tButton(\"Submit\").Style(\"font-size: 24px\").\n\t\t\tAttr(\"@click\", web.POST().EventFunc(\"refresh\").Go()),\n\t)\n\n\treturn\n}\n\nfunc refresh(ctx *web.EventContext) (er web.EventResponse, err error) {\n\ter.Reload = true\n\treturn\n}\n\nvar HelloWorldTipTapPB = web.Page(HelloWorldTipTap).\n\tEventFunc(\"refresh\", refresh)\n\nconst HelloWorldTipTapPath = \"/samples/hello_world_tiptap\"\n"'></highlightjs>
<p>And now let&#39;s check out our fruits:</p>

<div>
<div class='demo'>
<a href='/samples/hello_world_tiptap' target='_blank'>Check the demo</a>
 | 
<a href='https://github.com/qor5/docs/tree/main/docsrc/examples/e00_basics/use-tiptap-editor.go' target='_blank'>Source on GitHub</a>
</div>
</div>
</div>
</div>
</div>

<div class='font-medium text-base hidden xl:block text-gray-600 pt-4'>
<div class='sticky top-4 w-52'>On This Page<toc></toc></div>
</div>
</div>
<search-result></search-result></main>
</div>
</div>
</div>
</div>
</body>
</html>
